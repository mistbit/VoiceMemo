# 音频导入指南

## 文档目的

说明如何将现有的音频文件导入到应用中，并使用与实时录音相同的转写和分析流水线。

## 功能入口

在应用侧边栏（Sidebar）的顶部，点击 **"Import Audio"** 按钮即可打开导入面板。

## 导入模式

应用支持两种导入模式，以适应不同的音频来源：

### 1. 会议模式 (Meeting Mode)

适用于单文件音频，例如：
- 已经混合好的会议录音
- 单人语音备忘录
- 手机录音文件

**操作流程**：
1. 在导入面板中选择 **"Meeting Mode"**。
2. 点击文件选择区域（或拖拽文件）。
3. 选择**一个**音频文件。
4. 点击 **"Import"**。

**处理逻辑**：
- 系统会将该文件视为 `mixed.m4a`。
- 创建一个 `Mixed` 模式的任务。
- 后续流程：Upload Raw -> 转码 -> 上传 OSS -> 创建听悟任务 -> 轮询并拉取结果。

### 2. 听写模式 (Dictation Mode)

适用于双轨分离的音频，例如：
- 专业的双路录音设备导出的文件
- 此应用之前的 "分离模式" 录音文件（`*-local.m4a` 和 `*-remote.m4a`）

**操作流程**：
1. 在导入面板中选择 **"Dictation Mode"**。
2. 分别点击 **"Speaker 1 (Local)"** 和 **"Speaker 2 (Remote)"** 的文件选择区域。
3. 为每一路选择对应的音频文件。
4. 确保两个文件都已选择。
5. 点击 **"Import"**。

**处理逻辑**：
- 系统会将两个文件分别视为本地轨和远端轨。
- 创建一个 `Separated` 模式的任务。
- 后续流程：分别 Upload Raw -> 分别转码 -> 分别上传 OSS -> 分别创建听悟任务 -> 分别轮询 -> 合并展示（当前为简单拼接）。

## 支持的格式

应用底层使用 `AVFoundation` 进行处理，支持 macOS 兼容的常见音频格式，包括但不限于：
- `.m4a`, `.mp3`, `.wav`, `.aac`

## 导入后的流程

导入完成后，任务会出现在历史记录列表中。你可以像处理实时录音任务一样操作它：

1. **查看详情**：点击任务进入详情页。
2. **执行流水线**：点击 "Upload Raw" -> "Transcode" -> "Upload (Mixed)" -> "Create Task" -> "Poll" 来拉取结果。
3. **播放**：可以播放导入的音频（分离模式下支持多轨播放控制）。
